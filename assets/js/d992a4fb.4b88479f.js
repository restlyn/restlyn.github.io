"use strict";(self.webpackChunkrestlyn_docs=self.webpackChunkrestlyn_docs||[]).push([[192],{6560:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"quick-example","title":"Quick Example","description":"Minimal end-to-end example from Gherkin to generated tests and report.","source":"@site/docs/quick-example.md","sourceDirName":".","slug":"/quick-example","permalink":"/docs/quick-example","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"quick-example","title":"Quick Example","description":"Minimal end-to-end example from Gherkin to generated tests and report."},"sidebar":"restlynSidebar","previous":{"title":"Getting Started","permalink":"/docs/getting-started"},"next":{"title":"Writing Gherkin","permalink":"/docs/writing-gherkin"}}');var r=s(4848),a=s(8453);const l={id:"quick-example",title:"Quick Example",description:"Minimal end-to-end example from Gherkin to generated tests and report."},i=void 0,c={},d=[{value:"0) Install",id:"0-install",level:2},{value:"1) Create <code>features/user.feature</code>:",id:"1-create-featuresuserfeature",level:2},{value:"2) Generate step maps:",id:"2-generate-step-maps",level:2},{value:"3) Generate tests:",id:"3-generate-tests",level:2},{value:"4) Run and generate a report:",id:"4-run-and-generate-a-report",level:2}];function o(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["This page shows a minimal flow from a ",(0,r.jsx)(n.code,{children:".feature"})," file to a generated ",(0,r.jsx)(n.code,{children:".stepMap.json"}),", to executables ",(0,r.jsx)(n.code,{children:".test.js"})," files, and a final report."]}),"\n",(0,r.jsx)(n.h2,{id:"0-install",children:"0) Install"}),"\n",(0,r.jsx)(n.p,{children:"Global:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install -g restlyn\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or per\u2011project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev restlyn\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then use ",(0,r.jsx)(n.code,{children:"restlyn ..."})," (global) or ",(0,r.jsx)(n.code,{children:"npx restlyn ..."})," (local)."]}),"\n",(0,r.jsxs)(n.h2,{id:"1-create-featuresuserfeature",children:["1) Create ",(0,r.jsx)(n.code,{children:"features/user.feature"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gherkin",children:'Feature: Users\n\n  Scenario: Get user by id\n    Given base URL is "https://reqres.in/api"\n    When I GET "/users/2"\n    Then response status should be 200\n    And response body should contain key "data"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2-generate-step-maps",children:"2) Generate step maps:"}),"\n",(0,r.jsx)(n.p,{children:"Global install:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"restlyn steps --output generated/stepmaps --overwrite\n"})}),"\n",(0,r.jsx)(n.p,{children:"Local install:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx restlyn steps --output generated/stepmaps --overwrite\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Example step map (",(0,r.jsx)(n.code,{children:"generated/stepmaps/user.stepMap.json"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "feature": "Users",\n  "scenarios": [\n    {\n      "name": "Get user by id",\n      "baseUrl": "https://reqres.in/api",\n      "requests": [{ "method": "GET", "endpoint": "/users/2" }],\n      "assertions": [\n        { "type": "status", "expected": 200, "requestIndex": 0 },\n        { "type": "contains", "key": "data", "requestIndex": 0 }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3-generate-tests",children:"3) Generate tests:"}),"\n",(0,r.jsx)(n.p,{children:"Global:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"restlyn tests --output generated/tests --overwrite\n"})}),"\n",(0,r.jsx)(n.p,{children:"Local:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx restlyn tests --output generated/tests --overwrite\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Trimmed generated test (",(0,r.jsx)(n.code,{children:"generated/tests/user.test.js"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"describe('Users', () => {\n  it('Get user by id', async function () {\n    const baseUrl = 'https://reqres.in/api';\n    let res1;\n    let config1 = { headers: { 'Content-Type': 'application/json' } };\n    try {\n      res1 = await retryRequest(() => get(`${baseUrl}/users/2`, config1));\n    } catch (err) { res1 = err.response; }\n    expect(res1.status).to.equal(200);\n    expect(res1.data).to.have.property(\"data\");\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"4-run-and-generate-a-report",children:"4) Run and generate a report:"}),"\n",(0,r.jsx)(n.p,{children:"Global:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"restlyn verify --report\n"})}),"\n",(0,r.jsx)(n.p,{children:"Local:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx restlyn verify --report\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You\u2019ll see a console summary and an HTML report (PDF is optional if ",(0,r.jsx)(n.code,{children:"puppeteer"})," is installed)."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>i});var t=s(6540);const r={},a=t.createContext(r);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);